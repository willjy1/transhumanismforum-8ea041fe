@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Dark academic design system - high contrast, readable */
    --background: 0 0% 7%;
    --foreground: 0 0% 95%;

    --card: 0 0% 7%;
    --card-foreground: 0 0% 95%;

    --popover: 0 0% 7%;
    --popover-foreground: 0 0% 95%;

    --primary: 0 0% 95%;
    --primary-foreground: 0 0% 7%;
    --primary-glow: 0 0% 70%;

    --secondary: 0 0% 11%;
    --secondary-foreground: 0 0% 95%;

    --muted: 0 0% 9%;
    --muted-foreground: 0 0% 65%;

    --accent: 220 13% 82%;
    --accent-foreground: 0 0% 7%;

    --destructive: 0 62% 30%;
    --destructive-foreground: 0 0% 95%;

    --border: 0 0% 15%;
    --input: 0 0% 11%;
    --ring: 0 0% 83%;

    --radius: 2px;

    /* Minimal visual elements */
    --gradient-subtle: linear-gradient(180deg, hsl(var(--background)), hsl(var(--muted)));
    --shadow-subtle: 0 1px 2px 0 hsl(0 0% 0% / 0.3);
    --shadow-medium: 0 1px 3px 0 hsl(0 0% 0% / 0.4);
    --shadow-large: 0 4px 6px -1px hsl(0 0% 0% / 0.5);

    /* Sidebar */
    --sidebar-background: 0 0% 3.9%;
    --sidebar-foreground: 0 0% 98%;
    --sidebar-primary: 0 0% 98%;
    --sidebar-primary-foreground: 0 0% 9%;
    --sidebar-accent: 0 0% 14.9%;
    --sidebar-accent-foreground: 0 0% 98%;
    --sidebar-border: 0 0% 14.9%;
    --sidebar-ring: 0 0% 83.1%;

    /* Animation */
    --transition-crisp: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply text-foreground antialiased;
    background: hsl(var(--background));
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    font-variant-numeric: oldstyle-nums proportional-nums;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    position: relative;
  }

  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 0;
    pointer-events: none;
    /* GPU hints for smoother, continuous animations */
    will-change: transform, opacity, filter, background-position;
    transform: translateZ(0);
    backface-visibility: hidden;

    background: 
      radial-gradient(circle at 20% 30%, rgba(80, 80, 80, 0.12) 0px, transparent 40%),
      radial-gradient(circle at 80% 70%, rgba(100, 100, 100, 0.14) 0px, transparent 50%),
      radial-gradient(circle at 60% 20%, rgba(90, 90, 90, 0.11) 0px, transparent 60%),
      radial-gradient(circle at 30% 80%, rgba(80, 80, 80, 0.12) 0px, transparent 45%),
      radial-gradient(circle at 90% 40%, rgba(100, 100, 100, 0.13) 0px, transparent 35%),
      radial-gradient(circle at 45% 55%, rgba(85, 85, 85, 0.10) 0px, transparent 55%),
      radial-gradient(circle at 10% 90%, rgba(75, 75, 75, 0.11) 0px, transparent 40%),
      radial-gradient(circle at 70% 10%, rgba(95, 95, 95, 0.10) 0px, transparent 45%),
      radial-gradient(circle at 15% 45%, rgba(85, 85, 85, 0.11) 0px, transparent 50%),
      radial-gradient(circle at 85% 85%, rgba(90, 90, 90, 0.10) 0px, transparent 40%),
      radial-gradient(circle at 50% 15%, rgba(80, 80, 80, 0.09) 0px, transparent 55%);
    animation: 
      morphing 18s ease-in-out infinite,
      neural-breathe 25s ease-in-out infinite,
      neural-shift 33s ease-in-out infinite;
  }

  body::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 0;
    pointer-events: none;
    /* GPU hints for smoother, continuous animations */
    will-change: transform, opacity, filter, background-position;
    transform: translateZ(0);
    backface-visibility: hidden;

    background-image: 
      radial-gradient(1px 1px at 15% 25%, rgba(70, 70, 70, 0.35), transparent),
      radial-gradient(1px 1px at 35% 65%, rgba(80, 80, 80, 0.30), transparent),
      radial-gradient(1px 1px at 55% 10%, rgba(75, 75, 75, 0.38), transparent),
      radial-gradient(1px 1px at 75% 45%, rgba(85, 85, 85, 0.32), transparent),
      radial-gradient(1px 1px at 85% 75%, rgba(70, 70, 70, 0.28), transparent),
      radial-gradient(1px 1px at 25% 85%, rgba(90, 90, 90, 0.34), transparent),
      radial-gradient(1px 1px at 65% 35%, rgba(80, 80, 80, 0.26), transparent),
      radial-gradient(1px 1px at 5% 60%, rgba(75, 75, 75, 0.33), transparent),
      radial-gradient(1px 1px at 95% 20%, rgba(85, 85, 85, 0.30), transparent),
      radial-gradient(1px 1px at 42% 78%, rgba(70, 70, 70, 0.31), transparent),
      radial-gradient(1px 1px at 88% 62%, rgba(90, 90, 90, 0.28), transparent),
      radial-gradient(1px 1px at 12% 38%, rgba(75, 75, 75, 0.33), transparent),
      radial-gradient(2px 2px at 68% 88%, rgba(80, 80, 80, 0.24), transparent),
      radial-gradient(2px 2px at 32% 12%, rgba(85, 85, 85, 0.26), transparent),
      linear-gradient(45deg, transparent 49.7%, rgba(60, 60, 60, 0.12) 50%, transparent 50.3%),
      linear-gradient(-45deg, transparent 49.7%, rgba(70, 70, 70, 0.10) 50%, transparent 50.3%),
      linear-gradient(135deg, transparent 49.7%, rgba(65, 65, 65, 0.08) 50%, transparent 50.3%),
      linear-gradient(-135deg, transparent 49.7%, rgba(75, 75, 75, 0.10) 50%, transparent 50.3%),
      linear-gradient(22deg, transparent 49.7%, rgba(60, 60, 60, 0.08) 50%, transparent 50.3%),
      linear-gradient(-22deg, transparent 49.7%, rgba(70, 70, 70, 0.06) 50%, transparent 50.3%),
      linear-gradient(67deg, transparent 49.7%, rgba(65, 65, 65, 0.08) 50%, transparent 50.3%),
      linear-gradient(-67deg, transparent 49.7%, rgba(75, 75, 75, 0.06) 50%, transparent 50.3%);
    background-size: 
      1600px 1600px,
      1200px 1200px,
      800px 800px,
      1440px 1440px,
      1760px 1760px,
      640px 640px,
      1040px 1040px,
      720px 720px,
      960px 960px,
      860px 860px,
      1180px 1180px,
      680px 680px,
      1320px 1320px,
      900px 900px,
      600px 600px,
      900px 900px,
      760px 760px,
      1080px 1080px,
      580px 580px,
      820px 820px,
      740px 740px,
      940px 940px;
    background-position: 
      -400px -400px,
      -300px -200px,
      -200px -400px,
      -360px -720px,
      -440px -880px,
      -160px -320px,
      -260px -520px,
      -180px -360px,
      -240px -480px,
      -215px -430px,
      -295px -590px,
      -170px -340px,
      -330px -660px,
      -225px -450px,
      -300px -300px,
      -450px -450px,
      -190px -380px,
      -270px -540px,
      -145px -290px,
      -205px -410px,
      -185px -370px,
      -235px -470px;
    animation: 
      neural-flow 35s linear infinite,
      neural-pulse 14s ease-in-out infinite,
      neural-drift 22s ease-in-out infinite,
      neural-breathe 28s ease-in-out infinite,
      neural-morph 45s ease-in-out infinite;
  }

  /* Ensure all content has higher z-index */
  #root {
    position: relative;
    z-index: 1;
  }

  /* Enhanced design system components */
  .shadow-subtle {
    box-shadow: var(--shadow-subtle);
  }

  .shadow-medium {
    box-shadow: var(--shadow-medium);
  }

  .shadow-large {
    box-shadow: var(--shadow-large);
  }

  .crisp-transition {
    transition: var(--transition-crisp);
  }

  .smooth-transition {
    transition: var(--transition-smooth);
  }

  /* Enhanced typography with better hierarchy */
  .text-display {
    font-size: clamp(3.5rem, 8vw, 8rem);
    line-height: 0.9;
    letter-spacing: -0.025em;
    font-weight: 300;
  }

  .text-hero {
    font-size: clamp(2.5rem, 6vw, 5rem);
    line-height: 0.95;
    letter-spacing: -0.02em;
    font-weight: 400;
  }

  .text-large {
    font-size: clamp(1.75rem, 4vw, 3rem);
    line-height: 1.15;
    letter-spacing: -0.015em;
    font-weight: 300;
  }

  .text-body {
    font-size: 1.125rem;
    line-height: 1.65;
    font-weight: 400;
  }

  .text-caption {
    font-size: 0.875rem;
    line-height: 1.5;
    font-weight: 500;
  }

  .serif {
    font-family: "Merriweather", Georgia, Times, serif;
  }

  /* Enhanced hover effects */
  .hover-lift {
    @apply smooth-transition hover:-translate-y-1 hover:shadow-medium;
  }

  .hover-glow {
    @apply smooth-transition hover:shadow-large;
  }

  .hover-accent {
    @apply crisp-transition hover:text-accent hover:bg-accent/5;
  }

  .interactive-card {
    @apply bg-card border border-border rounded-lg p-6 hover-lift hover:border-accent/20 smooth-transition cursor-pointer;
  }

  /* Reading optimizations */
  .prose {
    max-width: 70ch;
    line-height: 1.7;
  }

  .prose h1, .prose h2, .prose h3, .prose h4 {
    font-weight: 600;
    margin-top: 2rem;
    margin-bottom: 1rem;
    line-height: 1.25;
  }

  .prose p {
    margin-bottom: 1.25rem;
  }

  /* Dynamic neural network pattern - more alive */
  .pattern-bg {
    background: 
      radial-gradient(circle at 20% 30%, hsl(var(--primary) / 0.12) 0px, transparent 40%),
      radial-gradient(circle at 80% 70%, hsl(var(--accent) / 0.15) 0px, transparent 50%),
      radial-gradient(circle at 60% 20%, hsl(var(--muted)) 0px, transparent 60%),
      radial-gradient(circle at 30% 80%, hsl(var(--primary) / 0.08) 0px, transparent 45%),
      radial-gradient(circle at 90% 40%, hsl(var(--accent) / 0.10) 0px, transparent 35%);
    animation: morphing 15s ease-in-out infinite;
  }

  .neural-network {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  .neural-network::before,
  .neural-network::after {
    content: '';
    position: absolute;
    border: 1px solid hsl(var(--border));
    border-radius: 50%;
    opacity: 0.6;
  }

  .neural-network::before {
    width: 300px;
    height: 300px;
    top: 15%;
    left: 5%;
    animation: pulse-drift 12s ease-in-out infinite;
    box-shadow: 0 0 20px hsl(var(--primary) / 0.15);
  }

  .neural-network::after {
    width: 200px;
    height: 200px;
    bottom: 25%;
    right: 15%;
    animation: pulse-drift 10s ease-in-out infinite reverse;
    animation-delay: 6s;
    box-shadow: 0 0 15px hsl(var(--accent) / 0.15);
  }

  /* Additional floating elements */
  .neural-network {
    background-image: 
      radial-gradient(2px 2px at 20% 30%, hsl(var(--primary) / 0.4), transparent),
      radial-gradient(2px 2px at 40% 70%, hsl(var(--accent) / 0.3), transparent),
      radial-gradient(1px 1px at 60% 15%, hsl(var(--primary) / 0.5), transparent),
      radial-gradient(1px 1px at 80% 50%, hsl(var(--accent) / 0.4), transparent),
      radial-gradient(2px 2px at 90% 80%, hsl(var(--primary) / 0.3), transparent),
      linear-gradient(45deg, transparent 49%, hsl(var(--border) / 0.6) 50%, transparent 52%),
      linear-gradient(-45deg, transparent 49%, hsl(var(--border) / 0.4) 50%, transparent 52%);
    background-size: 
      400px 400px,
      300px 300px,
      200px 200px,
      360px 360px,
      440px 440px,
      160px 160px,
      240px 240px;
    background-position: 
      -100px -100px,
      -60px -40px,
      -80px -80px,
      -80px -120px,
      -60px -120px,
      -80px -80px,
      -120px -90px;
    animation: 
      neural-flow 25s linear infinite,
      neural-pulse 8s ease-in-out infinite;
  }

  .text-shadow-lg {
    text-shadow: 2px 2px 4px hsl(var(--background) / 0.8);
  }

  @keyframes morphing {
    0%, 100% { 
      transform: translateY(0px) rotate(0deg) scale(1);
      filter: blur(0px) hue-rotate(0deg);
      opacity: 1;
    }
    20% { 
      transform: translateY(-25px) rotate(1.5deg) scale(1.08);
      filter: blur(0.3px) hue-rotate(5deg);
      opacity: 0.85;
    }
    40% { 
      transform: translateY(15px) rotate(-1deg) scale(0.92);
      filter: blur(0px) hue-rotate(-3deg);
      opacity: 1.1;
    }
    60% { 
      transform: translateY(-10px) rotate(2deg) scale(1.15);
      filter: blur(0.5px) hue-rotate(8deg);
      opacity: 0.9;
    }
    80% { 
      transform: translateY(30px) rotate(-1.5deg) scale(0.88);
      filter: blur(0.2px) hue-rotate(-5deg);
      opacity: 1.05;
    }
  }

  @keyframes pulse-drift {
    0%, 100% { 
      transform: scale(1) translate(0, 0) rotate(0deg);
      opacity: 0.6;
      filter: brightness(1);
    }
    16% { 
      transform: scale(1.4) translate(25px, -15px) rotate(60deg);
      opacity: 0.2;
      filter: brightness(1.3);
    }
    33% { 
      transform: scale(1.8) translate(-20px, 35px) rotate(120deg);
      opacity: 0.15;
      filter: brightness(0.8);
    }
    50% { 
      transform: scale(1.2) translate(40px, -25px) rotate(180deg);
      opacity: 0.4;
      filter: brightness(1.2);
    }
    66% { 
      transform: scale(2.1) translate(-30px, 20px) rotate(240deg);
      opacity: 0.1;
      filter: brightness(0.9);
    }
    83% { 
      transform: scale(1.6) translate(35px, -40px) rotate(300deg);
      opacity: 0.3;
      filter: brightness(1.1);
    }
  }

  @keyframes neural-flow {
    0% { 
      background-position: 
        0 0,
        40px 60px,
        20px 20px,
        80px 40px,
        160px 80px,
        0 0,
        60px 30px;
    }
    100% { 
      background-position: 
        200px 200px,
        190px 210px,
        120px 120px,
        260px 140px,
        380px 300px,
        80px 80px,
        180px 150px;
    }
  }

  @keyframes neural-pulse {
    0%, 100% { 
      opacity: 0.7;
      filter: contrast(1) saturate(1);
    }
    25% { 
      opacity: 1.2;
      filter: contrast(1.1) saturate(1.2);
    }
    50% { 
      opacity: 0.9;
      filter: contrast(0.9) saturate(0.8);
    }
    75% { 
      opacity: 1.1;
      filter: contrast(1.05) saturate(1.1);
    }
  }

  @keyframes neural-drift {
    0%, 100% { 
      transform: translateX(0) translateY(0) rotate(0deg) scale(1);
    }
    20% { 
      transform: translateX(15px) translateY(-8px) rotate(2deg) scale(1.05);
    }
    40% { 
      transform: translateX(-12px) translateY(18px) rotate(-1deg) scale(0.95);
    }
    60% { 
      transform: translateX(22px) translateY(-12px) rotate(1.5deg) scale(1.08);
    }
    80% { 
      transform: translateX(-8px) translateY(25px) rotate(-2deg) scale(0.92);
    }
  }

  @keyframes neural-breathe {
    0%, 100% { 
      transform: scale(1) rotateX(0deg) rotateY(0deg);
      opacity: 1;
      filter: brightness(1) contrast(1);
    }
    25% { 
      transform: scale(1.12) rotateX(2deg) rotateY(1deg);
      opacity: 0.8;
      filter: brightness(1.1) contrast(1.05);
    }
    50% { 
      transform: scale(0.88) rotateX(-1deg) rotateY(-2deg);
      opacity: 1.15;
      filter: brightness(0.95) contrast(1.1);
    }
    75% { 
      transform: scale(1.06) rotateX(1.5deg) rotateY(-1deg);
      opacity: 0.9;
      filter: brightness(1.05) contrast(0.95);
    }
  }

  @keyframes neural-shift {
    0%, 100% { 
      background-position: 0% 0%;
      transform: rotate(0deg);
    }
    25% { 
      background-position: 25% 15%;
      transform: rotate(0.5deg);
    }
    50% { 
      background-position: -15% 30%;
      transform: rotate(-0.8deg);
    }
    75% { 
      background-position: 35% -10%;
      transform: rotate(1.2deg);
    }
  }

  @keyframes neural-morph {
    0%, 100% { 
      transform: perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1);
      filter: hue-rotate(0deg) brightness(1);
    }
    20% { 
      transform: perspective(1000px) rotateX(1deg) rotateY(2deg) scale(1.03);
      filter: hue-rotate(5deg) brightness(1.05);
    }
    40% { 
      transform: perspective(1000px) rotateX(-2deg) rotateY(-1deg) scale(0.97);
      filter: hue-rotate(-3deg) brightness(0.95);
    }
    60% { 
      transform: perspective(1000px) rotateX(1.5deg) rotateY(-2deg) scale(1.02);
      filter: hue-rotate(8deg) brightness(1.08);
    }
    80% { 
      transform: perspective(1000px) rotateX(-1deg) rotateY(1.5deg) scale(0.98);
      filter: hue-rotate(-5deg) brightness(0.92);
    }
  }
}
